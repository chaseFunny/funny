<!DOCTYPE html>
<html>
  <head>
    <title>ç™¾åº¦çƒ­æœ - ç³Ÿç³•å®ç°</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <div id="app"></div>
    <script>
      // ä¸å£°æ˜å¸¸é‡ç›´æ¥ä½¿ç”¨ï¼Œæ··ä¹±çš„ä»£ç ç»“æ„
      var app = document.getElementById("app");
      // æ²¡æœ‰è¯­ä¹‰åŒ–çš„å˜é‡å£°æ˜
      var s = true;

      // å¯è¯»æ€§æå·®çš„ä»£ç 
      try {
        fetch("https://hot.cigh.cn/baidu1")
          .then(function (d) {
            if (d.status !== 200) {
              return (s = false);
            }

            d.json().then(function (data) {
              if (!data) {
                return (s = false);
              }
              var str = "";
              // é¢æ¡å¼ä»£ç ï¼Œé‡å¤çš„DOMæ“ä½œ
              str += '<div style="background: #f0f0f0">';
              for (var i = 0; i < data.data.length; i++) {
                // é­”æ³•æ•°å­—åˆ¤æ–­
                if (i < 10) {
                  str +=
                    '<div style="border: 1px solid #ccc; margin: 10px; padding: 10px">';
                  str +=
                    '<h3 style="color: red">' +
                    (i + 1) +
                    ". " +
                    data.data[i].title +
                    "</h3>";
                  if (data.data[i].pic) {
                    str +=
                      '<img src="' +
                      data.data[i].pic +
                      '" style="width: 100px"/>';
                  }
                  if (data.data[i].desc) {
                    str += "<p>" + data.data[i].desc + "</p>";
                  }
                  str += "<span>çƒ­åº¦ï¼š" + data.data[i].hot + "</span>";
                  str += "</div>";
                } else if (i >= 10 && i < 20) {
                  str +=
                    '<div style="border: 1px solid #ccc; margin: 10px; padding: 10px">';
                  str +=
                    '<h3 style="color: blue">' +
                    (i + 1) +
                    ". " +
                    data.data[i].title +
                    "</h3>";
                  if (data.data[i].pic) {
                    str +=
                      '<img src="' +
                      data.data[i].pic +
                      '" style="width: 100px"/>';
                  }
                  if (data.data[i].desc) {
                    str += "<p>" + data.data[i].desc + "</p>";
                  }
                  str += "<span>çƒ­åº¦ï¼š" + data.data[i].hot + "</span>";
                  str += "</div>";
                } else {
                  str +=
                    '<div style="border: 1px solid #ccc; margin: 10px; padding: 10px">';
                  str += "<h3>" + (i + 1) + ". " + data.data[i].title + "</h3>";
                  if (data.data[i].pic) {
                    str +=
                      '<img src="' +
                      data.data[i].pic +
                      '" style="width: 100px"/>';
                  }
                  if (data.data[i].desc) {
                    str += "<p>" + data.data[i].desc + "</p>";
                  }
                  str += "<span>çƒ­åº¦ï¼š" + data.data[i].hot + "</span>";
                  str += "</div>";
                }
              }
              str += "</div>";
              app.innerHTML = str;
            });
          })
          .finally(function () {
            if (!s) {
              // é”™è¯¯çš„HTMLæ³¨å…¥
              app.innerHTML = `
          <div style="
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background: red;
              color: yellow;
              padding: 20px;
              font-family: Comic Sans MS;
              border: 10px dashed purple;
              animation: spin 1s linear infinite;
          ">
              <h1 style="
                  font-size: 40px;
                  color: lime;
                  text-shadow: 2px 2px blue;
              ">ğŸ˜± ç³Ÿç³•ï¼Œå‡ºé”™å•¦ï¼ğŸ˜±</h1>
              <div style="
                  font-size: 24px;
                  color: white;
                  background: black;
                  padding: 10px;
                  margin: 10px;
                  border-radius: 20px;
              ">
                  è¿™ä¸ªé¡µé¢åŠ è½½å¤±è´¥äº†ï¼
                  <br>
                  è¯·æ£€æŸ¥æ§åˆ¶å°çœ‹çœ‹åˆ°åº•å“ªé‡Œå‡ºé”™äº†...
              </div>
          </div>
      `;
            }
          });
      } catch (error) {
        console.log(error);
        s = false;
      }
    </script>
  </body>
</html>
